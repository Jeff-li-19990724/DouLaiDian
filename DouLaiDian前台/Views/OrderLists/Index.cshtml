@model IEnumerable<QT.OrderList>

@{
    ViewBag.Title = "Index";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<h2></h2>
<script>
    window.onload = function () {
        setInterval(function () {
            window.location.reload()
        }, 3600000)
    }
</script>
<p>
</p><div id="TitleArea">
    <div id="TitleArea_Head"></div>
    <div id="TitleArea_Title">
        <div id="TitleArea_Title_Content">
            <img border="0" width="13" height="13"
                 src="style/images/title_arrow.gif" /> 餐厅订单列表
        </div>
    </div>
    <div id="TitleArea_End"></div>
</div>

<!-- 主内容区域（数据列表或表单显示） -->
    <div id="MainArea">
        <table class="MainArea_Content" align="center" cellspacing="0" cellpadding="0">
            <!-- 表头-->
            <thead>
                <tr align="center" valign="middle" id="TableTitle">
                    <th>
                       手机号
                    </th>
                    <th>
                    菜品名称
                    </th>
                    <th>
                      单价
                    </th>
                    <th>
                        数量
                    </th>
                    <th>
                        合算
                    </th>
                    <th>
                        
                    </th>
                </tr>
            </thead>
            <!--显示数据列表 -->
            <tbody id="TableData">
                @{ 
                    double total=0;
                }
                @foreach (var item in Model)
                {
                    <tr align="center" height="60">
                        <td>
                            @Html.DisplayFor(modelItem => item.order.phone)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.foodname)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.price)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.num)
                        </td>
                        <td>
                           @{
                               int num = item.num;
                               double pri = item.price;
                               double tal = num * pri;
                               total += tal;
                               //item.num*item.price
                            }
                            @tal
                        </td>
                        <td>
                            @*<a target="_Self" href=@Url.Action("Index","orderLists")>详情</a>

                                @Html.ActionLink("详情", "Index", "orderLists", new { id = item.OrID })*@
                                @*@Html.ActionLink("Details", "Details", new { id = item.OrID }) |
            @Html.ActionLink("Delete", "Delete", new { id = item.OrID })*@
                        </td>
                    </tr>
                }
            </tbody>

        </table>
        <!-- 其他功能超链接 -->
        <div id="TableTail" align="center">
            <span>
                总计: @total 元
            </span>
        </div>
    </div>
